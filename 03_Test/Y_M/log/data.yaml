# dataset cfg file
name: "cityscapes"
data_dir: E:\Github\AI_Edge_Contest\03_Test\Y_M\train_py\dataset
buff: False            # if this is true we buffer buff_n images in a fifo
buff_nr: 3000         # number of images to keep in fifo (prefetch batch) <-should be bigger than batch size to make sense
img_prop:
  width: 1280
  height: 720
  depth: 1            # number of channels in original image
force_resize: True   # if dataset contains images of different size, it should be True
force_remap: False
label_map: 
  64: 'road'
  179: 'sidewalk'
  136: 'building'
  122: 'wall'
  93: 'fence'
  146: 'pole'
  226: 'trafficlight'
  155: 'trafficsign'
  181: 'vegetation'
  75: 'terrain'
  115: 'sky'
  76: 'person'
  70: 'rider'
  29: 'car'
  69: 'truck'
  183: 'bus'
  166: 'train'
  117: 'motorcycle'
  150: 'bicycle'
  82: 'crap'
label_remap:          # for softmax (it must be an index of the onehot array)
  64: 0
  179: 1
  136: 2
  122: 3
  93: 4
  146: 5
  226: 6
  155: 7
  181: 8
  75: 9
  115: 10
  76: 11
  70: 12
  29: 13
  69: 14
  183: 15
  166: 16
  117: 17
  150: 18
  82: 19
color_map: # bgr
  64: [69,47,142]
  179: [0,255,255]
  136: [0,203,151]
  122: [92,136,125]
  93: [215,0,255]
  146: [180,131,135]
  226: [255,255,0]
  155: [255,134,0]
  181: [85,255,50]
  75: [136,45,66]
  115: [0,152,225]
  76: [255,0,0]
  70: [86,62,67]
  29: [0,0,255]
  69: [180,0,129]
  183: [193,214,0]
  166: [255,121,166]
  117: [65,166,1]
  150: [208,149,1]
  82: [81,99,0]

# put this in cityscapesScripts/cityScapesscripts/helpers/labels.py:
#   labels = [
#     #       name                     id    trainId   category            catId     hasInstances   ignoreInEval   color
#     Label(  'unlabeled'            ,  0 ,      255 , 'void'            , 0       , False        , True         , (  0,  0,  0) ),
#     Label(  'ego vehicle'          ,  1 ,      255 , 'void'            , 0       , False        , True         , (  0,  0,  0) ),
#     Label(  'rectification border' ,  2 ,      255 , 'void'            , 0       , False        , True         , (  0,  0,  0) ),
#     Label(  'out of roi'           ,  3 ,      255 , 'void'            , 0       , False        , True         , (  0,  0,  0) ),
#     Label(  'static'               ,  4 ,      255 , 'void'            , 0       , False        , True         , (  0,  0,  0) ),
#     Label(  'dynamic'              ,  5 ,      255 , 'void'            , 0       , False        , True         , (111, 74,  0) ),
#     Label(  'ground'               ,  6 ,      255 , 'void'            , 0       , False        , True         , ( 81,  0, 81) ),
#     Label(  'road'                 ,  7 ,       00 , 'flat'            , 1       , False        , False        , (128, 64,128) ),
#     Label(  'sidewalk'             ,  8 ,       10 , 'flat'            , 1       , False        , False        , (244, 35,232) ),
#     Label(  'parking'              ,  9 ,      255 , 'flat'            , 1       , False        , True         , (250,170,160) ),
#     Label(  'rail track'           , 10 ,      255 , 'flat'            , 1       , False        , True         , (230,150,140) ),
#     Label(  'building'             , 11 ,       20 , 'construction'    , 2       , False        , False        , ( 70, 70, 70) ),
#     Label(  'wall'                 , 12 ,       30 , 'construction'    , 2       , False        , False        , (102,102,156) ),
#     Label(  'fence'                , 13 ,       40 , 'construction'    , 2       , False        , False        , (190,153,153) ),
#     Label(  'guard rail'           , 14 ,      255 , 'construction'    , 2       , False        , True         , (180,165,180) ),
#     Label(  'bridge'               , 15 ,      255 , 'construction'    , 2       , False        , True         , (150,100,100) ),
#     Label(  'tunnel'               , 16 ,      255 , 'construction'    , 2       , False        , True         , (150,120, 90) ),
#     Label(  'pole'                 , 17 ,       50 , 'object'          , 3       , False        , False        , (153,153,153) ),
#     Label(  'polegroup'            , 18 ,      255 , 'object'          , 3       , False        , True         , (153,153,153) ),
#     Label(  'traffic light'        , 19 ,       60 , 'object'          , 3       , False        , False        , (250,170, 30) ),
#     Label(  'traffic sign'         , 20 ,       70 , 'object'          , 3       , False        , False        , (220,220,  0) ),
#     Label(  'vegetation'           , 21 ,       80 , 'nature'          , 4       , False        , False        , (107,142, 35) ),
#     Label(  'terrain'              , 22 ,       90 , 'nature'          , 4       , False        , False        , (152,251,152) ),
#     Label(  'sky'                  , 23 ,      100 , 'sky'             , 5       , False        , False        , ( 70,130,180) ),
#     Label(  'person'               , 24 ,      110 , 'human'           , 6       , True         , False        , (220, 20, 60) ),
#     Label(  'rider'                , 25 ,      120 , 'human'           , 6       , True         , False        , (255,  0,  0) ),
#     Label(  'car'                  , 26 ,      130 , 'vehicle'         , 7       , True         , False        , (  0,  0,142) ),
#     Label(  'truck'                , 27 ,      140 , 'vehicle'         , 7       , True         , False        , (  0,  0, 70) ),
#     Label(  'bus'                  , 28 ,      150 , 'vehicle'         , 7       , True         , False        , (  0, 60,100) ),
#     Label(  'caravan'              , 29 ,      255 , 'vehicle'         , 7       , True         , True         , (  0,  0, 90) ),
#     Label(  'trailer'              , 30 ,      255 , 'vehicle'         , 7       , True         , True         , (  0,  0,110) ),
#     Label(  'train'                , 31 ,      160 , 'vehicle'         , 7       , True         , False        , (  0, 80,100) ),
#     Label(  'motorcycle'           , 32 ,      170 , 'vehicle'         , 7       , True         , False        , (  0,  0,230) ),
#     Label(  'bicycle'              , 33 ,      180 , 'vehicle'         , 7       , True         , False        , (119, 11, 32) ),
#     Label(  'license plate'        , -1 ,      255 , 'vehicle'         , 7       , False        , True         , (  0,  0,142) ),
# ]

# and then run:
# $ export CITYSCAPES_DATASET=/cache/datasets/citiscapes/dataset_original/gtFine_trainvaltest/
# $ ~/tools/cityscapesScripts/cityscapesscripts/preparation/createTrainIdLabelImgs.py